{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pdb81\\\\OneDrive\\\\Desktop\\\\Automated-Canteen-System\\\\frontend\\\\src\\\\components\\\\OrderStatus.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5001/api/orders';\nfunction OrderStatus() {\n  _s();\n  const [orderIdInput, setOrderIdInput] = useState('');\n  const [order, setOrder] = useState(null);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const fetchOrderStatus = async id => {\n    if (!id) return;\n    setIsLoading(true);\n    setError('');\n    setOrder(null);\n    try {\n      const response = await axios.get(`${API_URL}/${id}`);\n      setOrder(response.data);\n    } catch (err) {\n      setError('Order not found. Please check the ID and try again.');\n      setOrder(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (order && order.status !== 'Completed') {\n      const interval = setInterval(() => {\n        fetchOrderStatus(order.orderId);\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, [order]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetchOrderStatus(orderIdInput.trim().toUpperCase());\n  };\n  const getStatusIndicator = currentStatus => {\n    const statuses = ['Received', 'Preparing', 'Ready for Pickup', 'Completed'];\n    const currentIndex = statuses.indexOf(currentStatus);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center space-x-2 sm:space-x-4 my-8\",\n      children: statuses.map((status, index) => {\n        const isActive = index <= currentIndex;\n        return /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white font-bold text-xl ${isActive ? 'bg-green-500' : 'bg-gray-300'}`,\n              children: isActive ? '✓' : index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `mt-2 text-xs sm:text-sm font-semibold ${isActive ? 'text-green-600' : 'text-gray-500'}`,\n              children: status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), index < statuses.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 h-1 rounded-full ${isActive ? 'bg-green-500' : 'bg-gray-300'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)]\n        }, status, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-gray-800 mb-6 text-center\",\n      children: \"Track Your Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: orderIdInput,\n        onChange: e => setOrderIdInput(e.target.value),\n        placeholder: \"Enter your Order ID (e.g., ORD-XXXXXX)\",\n        className: \"flex-grow p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        className: \"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400\",\n        children: isLoading ? 'Searching...' : 'Track Order'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 mt-4 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }, this), order && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 border-t pt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-center text-gray-800\",\n        children: \"Order Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-lg font-mono text-gray-600 mb-4\",\n        children: order.orderId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), getStatusIndicator(order.status), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 p-4 rounded-lg mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-bold text-lg mb-2\",\n          children: \"Order Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside text-gray-700\",\n          children: order.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [item.quantity, \"x \", item.name]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n_s(OrderStatus, \"mLaEYqlrwFl4B4RV9AmtogRGRAk=\");\n_c = OrderStatus;\nexport default OrderStatus;\nvar _c;\n$RefreshReg$(_c, \"OrderStatus\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","API_URL","OrderStatus","_s","orderIdInput","setOrderIdInput","order","setOrder","error","setError","isLoading","setIsLoading","fetchOrderStatus","id","response","get","data","err","status","interval","setInterval","orderId","clearInterval","handleSubmit","e","preventDefault","trim","toUpperCase","getStatusIndicator","currentStatus","statuses","currentIndex","indexOf","className","children","map","index","isActive","Fragment","fileName","_jsxFileName","lineNumber","columnNumber","length","onSubmit","type","value","onChange","target","placeholder","disabled","items","item","quantity","name","_c","$RefreshReg$"],"sources":["C:/Users/pdb81/OneDrive/Desktop/Automated-Canteen-System/frontend/src/components/OrderStatus.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5001/api/orders';\r\n\r\nfunction OrderStatus() {\r\n    const [orderIdInput, setOrderIdInput] = useState('');\r\n    const [order, setOrder] = useState(null);\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const fetchOrderStatus = async (id) => {\r\n        if (!id) return;\r\n        setIsLoading(true);\r\n        setError('');\r\n        setOrder(null);\r\n        try {\r\n            const response = await axios.get(`${API_URL}/${id}`);\r\n            setOrder(response.data);\r\n        } catch (err) {\r\n            setError('Order not found. Please check the ID and try again.');\r\n            setOrder(null);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n    \r\n    useEffect(() => {\r\n        if (order && order.status !== 'Completed') {\r\n            const interval = setInterval(() => {\r\n                fetchOrderStatus(order.orderId);\r\n            }, 5000);\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [order]);\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        fetchOrderStatus(orderIdInput.trim().toUpperCase());\r\n    };\r\n\r\n    const getStatusIndicator = (currentStatus) => {\r\n        const statuses = ['Received', 'Preparing', 'Ready for Pickup', 'Completed'];\r\n        const currentIndex = statuses.indexOf(currentStatus);\r\n        \r\n        return (\r\n            <div className=\"flex items-center justify-center space-x-2 sm:space-x-4 my-8\">\r\n                {statuses.map((status, index) => {\r\n                    const isActive = index <= currentIndex;\r\n                    return (\r\n                        <React.Fragment key={status}>\r\n                            <div className=\"flex flex-col items-center text-center\">\r\n                                <div className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white font-bold text-xl ${isActive ? 'bg-green-500' : 'bg-gray-300'}`}>\r\n                                    {isActive ? '✓' : index + 1}\r\n                                </div>\r\n                                <p className={`mt-2 text-xs sm:text-sm font-semibold ${isActive ? 'text-green-600' : 'text-gray-500'}`}>{status}</p>\r\n                            </div>\r\n                            {index < statuses.length - 1 && (\r\n                                <div className={`flex-1 h-1 rounded-full ${isActive ? 'bg-green-500' : 'bg-gray-300'}`}></div>\r\n                            )}\r\n                        </React.Fragment>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg\">\r\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-6 text-center\">Track Your Order</h2>\r\n            <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row gap-3\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={orderIdInput}\r\n                    onChange={(e) => setOrderIdInput(e.target.value)}\r\n                    placeholder=\"Enter your Order ID (e.g., ORD-XXXXXX)\"\r\n                    className=\"flex-grow p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors\"\r\n                />\r\n                <button type=\"submit\" disabled={isLoading} className=\"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400\">\r\n                    {isLoading ? 'Searching...' : 'Track Order'}\r\n                </button>\r\n            </form>\r\n\r\n            {error && <p className=\"text-red-500 mt-4 text-center\">{error}</p>}\r\n\r\n            {order && (\r\n                <div className=\"mt-8 border-t pt-6\">\r\n                    <h3 className=\"text-2xl font-bold text-center text-gray-800\">Order Status</h3>\r\n                    <p className=\"text-center text-lg font-mono text-gray-600 mb-4\">{order.orderId}</p>\r\n                    {getStatusIndicator(order.status)}\r\n                     <div className=\"bg-gray-50 p-4 rounded-lg mt-6\">\r\n                        <h4 className=\"font-bold text-lg mb-2\">Order Summary</h4>\r\n                        <ul className=\"list-disc list-inside text-gray-700\">\r\n                            {order.items.map((item, index) => (\r\n                                <li key={index}>{item.quantity}x {item.name}</li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OrderStatus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}